<!DOCTYPE html>
<html>

<head>
    <title> Homework 4 </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <style>
        body {
            text-align: center;
        }

        img {
            border-radius: 20px;
            padding: 15px;
        }

        .favorite {
            cursor: pointer;
        }
    </style>
    <script>
    //weather: Clouds, Clear, Haze, Mist, 
        function getWeather() {

            $.ajax({
                method: "GET",
                url: "api/weatherProxy.php",
                dataType: "json",
                data: { "search": $("#search").val() },
                success: function(data, status) {
                    //alert(data.weather[0].main);
                    $("#weather").html(data.weather[0].main);
                    let celsius = data.main.temp - 273.15;
                    let farenheight = (celsius * 1.8) + 32;
                    farenheight = Math.round(farenheight);
                    $("#temp").html(farenheight + "F");
                    $("#humidity").html(data.main.humidity + "%");
                    $("#wind").html(data.wind.speed + "m/s");
                    $("#direction").html(data.wind.deg);
                }
            }); //ajax 

        } //searchImage()


        $(document).ready(function() {


        }); //documentReady
    </script>
</head>

<body>

    <h1> Open Weather Service </h1>
    Location: <input type="text" id="search" />
    <button onclick="getWeather()"> Search </button>
    <br /><br />

    Weather: <span id = "weather"></span> 
    <br>Temperature: <span id = "temp"></span>
    <br>Humidity: <span id = "humidity"></span>
    <br>Wind: <span id = "wind"></span>
    <br>Direction: <span id = "direction"></span>
    

</body>

</html>
